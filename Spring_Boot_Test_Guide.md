# Spring Boot ν…μ¤νΈ μ½”λ“ κ°€μ΄λ“

## π“‹ κ°μ”
Spring Boot μ• ν”λ¦¬μΌ€μ΄μ…μ μ›Ή κ³„μΈµμ„ ν…μ¤νΈν•λ” λ°©λ²•κ³Ό ν„μ¬ ν”„λ΅μ νΈμ ν…μ¤νΈ μ½”λ“ λ¶„μ„

## π”§ μ£Όμ” μ–΄λ…Έν…μ΄μ…

### @SpringBootTest
- **λ©μ **: Spring Boot μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄ μ»¨ν…μ¤νΈλ¥Ό λ΅λ“
- **νΉμ§•**: μ‹¤μ  μ• ν”λ¦¬μΌ€μ΄μ…κ³Ό λ™μΌν• ν™κ²½μ—μ„ ν…μ¤νΈ μ‹¤ν–‰
- **μ‚¬μ© μ‹κΈ°**: ν†µν•© ν…μ¤νΈ μ‹

### @AutoConfigureMockMvc
- **λ©μ **: MockMvc μλ™ κµ¬μ„±
- **νΉμ§•**: μ›Ή κ³„μΈµ ν…μ¤νΈλ¥Ό μ„ν• κ°€μ§ HTTP μ”μ²­/μ‘λ‹µ ν™κ²½ μ κ³µ
- **μ¥μ **: μ‹¤μ  μ„λ²„ μ—†μ΄ μ»¨νΈλ΅¤λ¬ ν…μ¤νΈ κ°€λ¥

### @Transactional
- **λ©μ **: ν…μ¤νΈ ν›„ λ°μ΄ν„°λ² μ΄μ¤ λ΅¤λ°±
- **νΉμ§•**: κ° ν…μ¤νΈ λ©”μ„λ“ μ‹¤ν–‰ ν›„ μλ™μΌλ΅ λ°μ΄ν„° μ›μƒλ³µκµ¬
- **μ¥μ **: ν…μ¤νΈ κ°„ λ°μ΄ν„° κ°„μ„­ λ°©μ§€

### @DisplayName
- **λ©μ **: ν…μ¤νΈ λ©”μ„λ“μ ν•κΈ€ μ„¤λ… μ κ³µ
- **νΉμ§•**: ν…μ¤νΈ κ²°κ³Όμ—μ„ μ½κΈ° μ‰¬μ΄ μ΄λ¦„ ν‘μ‹

## π§ ν„μ¬ ν”„λ΅μ νΈ ν…μ¤νΈ λ¶„μ„

### ν…μ¤νΈ λ€μƒ
```java
@Test
@DisplayName("λ©”μΈν™”λ©΄μ—μ„λ” μ•λ…•μ΄ λ‚μ™€μ•Ό ν•λ‹¤.")
void contextLoads() throws Exception
```

### ν…μ¤νΈ μ‹λ‚λ¦¬μ¤
1. **WHEN (μ–Έμ )**: GET μ”μ²­μ„ "/" κ²½λ΅λ΅ λ³΄λƒ„
2. **THEN (κ·Έλ¬λ©΄)**: λ‹¤μ μ΅°κ±΄λ“¤μ„ ν™•μΈ
   - HTTP μƒνƒμ½”λ“κ°€ 2xx (μ„±κ³µ)
   - ν•Έλ“¤λ¬κ°€ `HomeController` ν΄λμ¤
   - λ©”μ„λ“λ…μ΄ "main"
   - μ‘λ‹µ λ‚΄μ©μ— "μ•λ…•" λ¬Έμμ—΄ ν¬ν•¨

### ν•µμ‹¬ μ½”λ“ κµ¬μ΅°
```java
// HTTP GET μ”μ²­ μν–‰
ResultActions resultActions = mvc.perform(get("/")).andDo(print());

// κ²°κ³Ό κ²€μ¦
resultActions
    .andExpect(status().is2xxSuccessful())           // μƒνƒμ½”λ“ ν™•μΈ
    .andExpect(handler().handlerType(HomeController.class))  // μ»¨νΈλ΅¤λ¬ ν™•μΈ
    .andExpect(handler().methodName("main"))         // λ©”μ„λ“λ… ν™•μΈ
    .andExpect(content().string(containsString("μ•λ…•")));    // λ‚΄μ© ν™•μΈ
```

## π” MockMvc μ£Όμ” λ©”μ„λ“

| λ©”μ„λ“ | μ„¤λ… |
|--------|------|
| `perform()` | HTTP μ”μ²­ μν–‰ |
| `andDo(print())` | μ”μ²­/μ‘λ‹µ μ •λ³΄ μ½μ†” μ¶λ ¥ |
| `andExpect()` | κ²°κ³Ό κ²€μ¦ |
| `status()` | HTTP μƒνƒμ½”λ“ κ²€μ¦ |
| `handler()` | ν•Έλ“¤λ¬ μ •λ³΄ κ²€μ¦ |
| `content()` | μ‘λ‹µ λ‚΄μ© κ²€μ¦ |

## π’΅ ν…μ¤νΈ μ‘μ„± ν

### 1. Given-When-Then ν¨ν„΄
- **Given**: ν…μ¤νΈ μ¤€λΉ„ (λ°μ΄ν„° μ„¤μ •)
- **When**: ν…μ¤νΈ μ‹¤ν–‰ (μ‹¤μ  λ™μ‘)
- **Then**: κ²°κ³Ό κ²€μ¦ (κΈ°λ€κ°’ ν™•μΈ)

### 2. μλ―Έμλ” ν…μ¤νΈλ…
```java
@DisplayName("λ©”μΈν™”λ©΄μ—μ„λ” μ•λ…•μ΄ λ‚μ™€μ•Ό ν•λ‹¤.")
```
- ν•κΈ€λ΅ λ…ν™•ν• ν…μ¤νΈ λ©μ  ν‘ν„
- λΉ„κ°λ°μλ„ μ΄ν•΄ν•  μ μλ” μ„¤λ…

### 3. λ‹¤μ–‘ν• κ²€μ¦ λ°©λ²•
- **μƒνƒμ½”λ“**: `status().isOk()`, `status().is2xxSuccessful()`
- **λ‚΄μ© κ²€μ¦**: `containsString()`, `content().json()`
- **ν•Έλ“¤λ¬ κ²€μ¦**: `handlerType()`, `methodName()`

## π€ μ‹¤ν–‰ λ°©λ²•
```bash
# Gradle μ‚¬μ© μ‹
./gradlew test

# Maven μ‚¬μ© μ‹
mvn test
```

## π“ μ¶”κ°€ ν•™μµ ν¬μΈνΈ
- **λ‹¨μ„ ν…μ¤νΈ**: `@WebMvcTest` μ‚¬μ©
- **λ°μ΄ν„° κ³„μΈµ ν…μ¤νΈ**: `@DataJpaTest` μ‚¬μ©
- **λ³΄μ• ν…μ¤νΈ**: `@WithMockUser` μ‚¬μ©
- **JSON μ‘λ‹µ ν…μ¤νΈ**: `jsonPath()` μ‚¬μ©
